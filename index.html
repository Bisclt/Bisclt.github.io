<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="CLT">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="CLT">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="CLT">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>CLT</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">CLT</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/24/Computer-Networks-Review/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CLT">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CLT">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/24/Computer-Networks-Review/" class="post-title-link" itemprop="url">Computer Networks Review</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-24 21:25:17" itemprop="dateCreated datePublished" datetime="2020-04-24T21:25:17+08:00">2020-04-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-04-25 22:33:37" itemprop="dateModified" datetime="2020-04-25T22:33:37+08:00">2020-04-25</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="网络层"> 网络层 </h1>
<h2 id="网络层的设计问题"> 网络层的设计问题 </h2>
<h3 id="网络层的目标"> 网络层的目标 </h3>
<ol type="1">
<li> 向上提供的服务应该独立于路由器技术 </li>
<li> 向上层屏蔽路由器拓扑信息 </li>
<li> 网络地址具有统一编码方案 </li>
</ol>
<h3 id="是否面向连接"> 是否面向连接 </h3>
<ul>
<li> 虚电路网络：建立阶段花费成本，鲁棒性差，但服务质量和拥塞控制较易掌控 </li>
<li> 数据报网络：鲁棒性强，允许路由器平衡网络流量 (所有包不需要走同一条路)</li>
</ul>
<h2 id="路由算法"> 路由算法 </h2>
<p> 路由算法分为非自适应算法 (静态路由，用于路由选择十分清除的场合) 和自适应算法 (动态路由，路由决策随拓扑状态而改变) 。</p>
<h3 id="泛洪算法"> 泛洪算法 </h3>
<p> 鲁棒性很好，可以用于战争地区的军事网络，且总能找到最短延迟的路径。</p>
<h3 id="距离矢量路由"> 距离矢量路由 </h3>
<p> 每个路由器维护一张表，存储它到已知的每个目标的最佳路径和距离，表通过邻居交换信息被更新，最终所有路由器都获得到达任意目的地的最佳链路。然而收敛过程可能缓慢 (无穷计数) ，使用带有染毒逆向的水平分裂法等优化，实际工作效果不好，1979 年被 ARPANET 替换为链路状态路由。</p>
<h3 id="链路状态路由 -is-is-ospf-etc."> 链路状态路由 (IS-IS, OSPF, etc.)</h3>
<ol type="1">
<li> 发现邻居：当路由器启动时，首先在每一条点到点线路上发送 HELLO 数据包，线路另一端的路由器以全局唯一的名字回应 </li>
<li> 设置链路成本：将链路成本设置为与链路带宽与传输延迟相关 </li>
<li> 构造链路状态包：包含发送方标识符、序号、年龄和到各个邻居的延迟 </li>
<li> 分发链路状态包：使用泛洪法，其他路由器记录自己看到过的来自源路由器的最大序号 (为防止回绕，采用 32 位序号) ，丢弃老旧数据包；年龄字段每秒钟减一，减为零后丢弃该信息。 (不懂.jpg)</li>
<li> 计算新路由：路由器因为已经拥有所有链路状态数据包，可以在本地运行 Dijkstra 算法。</li>
</ol>
<p> 随着网络规模增长，路由表爆炸，消耗路由器内存等资源，是以采用分层路由。对于一个包含 <span class="math inline">\(N\)</span> 个路由器的网络，最优层数为 <span class="math inline">\(\log N\)</span>，每个路由器所需路由器表项为 <span class="math inline">\(e \log N\)</span> 个。</p>
<h3 id="广播路由"> 广播路由 </h3>
<p> 存在多种广播技术：多目标路由 (每个包包含一组目标地址，路由器为每一条线路生成副本) 、泛洪、逆向路径转发 (优雅而简单) 。</p>
<h3 id="组播路由"> 组播路由 </h3>
<p> 组播路由方案建立在广播路由方案的基础上，数据包沿着生成树发送。为了减少浪费，需要修剪广播树，得到一颗有效的组播生成树。当采用链路状态路由时 (MOSPF) ，每个路由器针对组内每个发送者构造一颗生成树；采用距离矢量路由时 (DVMRP) ，使用逆向路径转发。在只有一个发送者的情况下，采用基于核心树 (core-based trees) 的技术减小路由器的工作量；该方法也因为大大节省储存、计算等开销被用于 Internet 的稀疏组播 (PIM) 。</p>
<h3 id="选播路由"> 选播路由 </h3>
<p> 数据包被传递给最近的一个组成员，用于客户只需要获得正确的信息而非与某个特定节点联系的情况。选播作为域名系统的一部分广泛应用于 Internet 上。</p>
<h3 id="移动主机路由"> 移动主机路由 </h3>
<p> 目标是使人们利用固定的家乡地址来发送数据包，因为随着移动主机数量便多，每次移动之后重新计算路由变得不可行；另一种方法是每当主机移动到新地址，它会获得一个新的网络地址 (如今流行这种做法) ，但其他主机无法向它发送数据包。</p>
<p>IPv6 移动模型：移动主机在外地获得一个转交地址 (care of address) ，并把自己的位置信息告诉处于家乡位置的家乡代理 (home agent) 。发送者向移动主机发送数据包时，数据包到达家乡代理，家乡代理用一个新的头封装该数据包，转发给转交地址。移动主机获得数据包后，直接向发送者发应答数据包，但仍然使用家乡地址作为源地址。整个路由过程成为三角路由。数据包传送时可以使用加密协议。</p>
<h3 id="自组织网络路由"> 自组织网络路由 </h3>
<p> 当路由器本身也移动时 (如地震现场、战场上等) ，每个节点需要同时扮演路由器和主机的角色。因为所有节点都在移动，网络拓扑概念失效。由于此种网络很少使用，尚未确定最优协议。最流行的路由算法为 Ad hoc 按需距离矢量 (AODV) 路由算法。</p>
<h2 id="拥塞控制算法"> 拥塞控制算法 </h2>
<p>### 流量感知路由 </p>
<p> 如果路由方案采取固定链路权重，将无法适应负载的变化。早期 Internet 使用的流量感知路由把链路权重设置为链路带宽、传输延迟、测量负载或平均排队延迟的函数，然而可能引发路由振荡等问题。因此如今 Internet 路由协议不依赖于负载，而采用 <a href="https://www.cnblogs.com/sddai/p/5988195.html" target="_blank" rel="noopener"> 流量工程 (traffic engineering)</a>。</p>
<h3 id="准入控制"> 准入控制 </h3>
<p> 广泛应用于虚电路网络，采取漏桶 (leaky bucket) 或令牌桶 (token bucket) 的机制，可以同时约束平均速率和突发流量。准入控制可以与流量感知路由相结合，将新建的虚电路绕开拥塞的路由器。</p>
<h3 id="流量调节"> 流量调节 </h3>
<ul>
<li> 感知 (路由器如何知道快要接近拥塞)
<ul>
<li> 输出线路的利用率 (未考虑突发流量)</li>
<li> 在路由器内缓冲的排队数据包 (最有用)</li>
<li> 因缓冲不足而丢失的数据包 (太迟了)</li>
</ul></li>
<li> 反馈 (如何把拥塞信息传递给发送方)
<ul>
<li> 抑制包 </li>
<li> 显式拥塞通知 (ECN) ：在转发的数据包上打标记，使接收方在应答时附上拥塞信息 </li>
<li> 逐跳后压 (让抑制包在每一条发挥作用)</li>
</ul></li>
</ul>
<h3 id="负载脱落"> 负载脱落 </h3>
<p> 路由器的杀手锏，葡萄酒和牛奶；随机早期检测 (RED) 当链路上的平均队列长度超过阈值时随机丢包，传输层收到丢包信息后便会放慢速度。</p>
<h2 id="服务质量"> 服务质量 </h2>
<p> 某些应用需要网络具有很强的性能保障，而非仅仅尽力而为。确保服务质量需要解决以下问题：</p>
<ol type="1">
<li> 应用程序需要网络的质量如何？</li>
<li> 如何规范进入网络的流量？</li>
<li> 为了保障性能如何在路由器上预留资源？</li>
<li> 网络能否安全地接受更多流量？</li>
</ol>
<ul>
<li> 应用需求：为了适应各种应用，网络可以支持不同类别的 QoS</li>
</ul>
<table>
<thead>
<tr class="header">
<th> 应用 </th>
<th> 带宽 </th>
<th> 延迟 </th>
<th> 抖动 </th>
<th> 丢失 </th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td> 电子邮件 </td>
<td> 低 </td>
<td> 低 </td>
<td> 低 </td>
<td> 中等 </td>
</tr>
<tr class="even">
<td> 浏览网页 </td>
<td> 中等 </td>
<td> 中等 </td>
<td> 低 </td>
<td> 中等 </td>
</tr>
<tr class="odd">
<td> 视频电话 </td>
<td> 高 </td>
<td> 高 </td>
<td> 高 </td>
<td> 低 </td>
</tr>
</tbody>
</table>
<ul>
<li><p> 流量整形：指调节进入网络的数据流的平均速率和突发性所采用的技术，可使用漏桶和令牌桶。</p></li>
<li> 包调度：FIFO/fair queuing/WFO</li>
<li><p> 准入控制 </p></li>
</ul>
<h3 id="综合服务"> 综合服务 </h3>
<p>IETF 在 1995 到 1997 年间设计了流式多媒体的体系结构，此工作称为综合服务 (integrated service) 。综合服务体系结构中最主要的部分是资源预留协议 (RSVP) ，该算法基于流，能为流提供好的服务质量，然而需要为每个流预先设置，可扩展性较差，因此几乎没有实际部署。</p>
<h3 id="区分服务"> 区分服务 </h3>
<p> 作为综合服务的替代品，区分服务由每个路由器本地实现，无需提前设置流，称为基于类别的服务质量 (区分服务) 。区分服务由一组路由器提供，这些路由器构成一个管理域。若客户订购了区分服务，则进入该管理域的客户数据包会被标记 (在 IP 的区分服务字段) ，服务类别定义为单跳行为 (PHP) 。</p>
<h2 id="网络互联"> 网络互联 </h2>
<h3 id="隧道"> 隧道 </h3>
<p> 处理两个不同网络相互连接时的一般情况极其困难。一种特殊情况是：源主机和目标主机所在网络的类型相同，但途中有不同类型的网络。此时用到隧道技术，生成的网络称为覆盖 (overlay) 网络。隧道的缺点是数据包无法到达位于隧道之下的网络。</p>
<h3 id="互联网路由"> 互联网路由 </h3>
<p> 不同的网络使用不同的路由算法，故导致两级路由算法的产生：AS 内部与 AS 之间采取不同的方案。</p>
<h3 id="数据包分段"> 数据包分段 </h3>
<p> 每个网络限制其数据包的最大长度，而主机为了降低开销，倾向于传输大的数据包，导致分段，引发一系列问题。现代 Internet 采取的解决方案是在网络中避免分段操作。通过路径 MTU 发现 (path MTU discovery) ，源端在每个 IP 数据包的头部设置不允许分段操作，这样的包被路径上的某个路由器限制住时，路由器将其丢弃 (可以稍加改进以缓解启动延迟) ，并返回报错数据，源端减小发送的包的大小，直到没有报错信息产生。</p>
<h2 id="internet- 的网络层">Internet 的网络层 </h2>
<h3 id="原则 -rfc-1958"> 原则 [<a href="https://datatracker.ietf.org/doc/rfc1958/?include_text=1" target="_blank" rel="noopener">RFC 1958</a>]</h3>
<p>(转自 <a href="https://my.oschina.net/lionets/blog/363305" target="_blank" rel="noopener"> 这里 </a>)</p>
<ol type="1">
<li> 保证工作。直到确认原型系统可以正常运行，才可以完成设计或确定标准。</li>
<li> 保持简单。有疑问时应该使用最简单的解决方案。即如果一项特性并非绝对必要，就应该被砍掉，尤其当可以通过其他简单特性的组合也可以达到相同效果的时候。 (注：也许这里的难点在于确认一套最小功能集)</li>
<li> 明确选择。解决一个问题应当有且只有一种解决方案，这与 Python 的理念相同。</li>
<li> 模块开发。使用栈结构组织功能。</li>
<li> 期望异构性。设计必须通用且灵活，保证兼容性。</li>
<li> 避免静态选项和参数。如果不可避免要使用参数的话，那么最好的办法是让发送和接收方协商一个值，而不是定义静态参数。 (注：这一条对 app 的指导意义也许可以转换为，设计对象的时候，请尽可能多地将可配置项添加到参数里，而非使用内部常量)</li>
<li> 寻找好的而不是完美的设计。不必为应对特殊情况而牺牲设计的简单性。特殊情况可以特别处理。</li>
<li> 严格发送，宽容接收。保证自己发出的数据都是严格符合标准的，但在接收时可以尝试对非标准请求进行处理。</li>
<li> 考虑可扩展性。即分布式支持。</li>
<li> 考虑性能和成本。</li>
</ol>
<h3 id="ipv4-rfc-791">IPv4 [<a href="https://datatracker.ietf.org/doc/rfc791/?include_text=1" target="_blank" rel="noopener">RFC 791</a>]</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> 0                   1                   2                   3   </span><br><span class="line"> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 </span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|Version|  IHL  | Diff Services |          Total Length         |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|         Identification        |Flags|      Fragment Offset    |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|  Time to Live |    Protocol   |         Header Checksum       |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|                       Source Address                          |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|                    Destination Address                        |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|                    Options                    |    Padding    |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br></pre></td></tr></table></figure>
<p>IHL 指出头有多少个 32 位字，最多为 60 字节，故 Options 字段最多 40 字节，这样的选项没有什么用处。区分服务 (Differentiated services) 前六位标记数据包的服务类别，后两位用来携带 ECN 信息。Flags 如下图：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  0   1   2</span><br><span class="line">+---+---+---+</span><br><span class="line">|   | D | M |</span><br><span class="line">| 0 | F | F |</span><br><span class="line">+---+---+---+</span><br></pre></td></tr></table></figure>
<ul>
<li><p>DF 代表不允许路由器分割该数据报，用于发现路径 MTU。</p></li>
<li><p>MF 代表更多的段，告诉接收方何时一个数据报的所有分段都已经到达。</p></li>
</ul>
<p> 分段偏移量 (Fragment offset) 指出该段在当前数据报中的位置。TTL 实际上只是跳计数器，减为 0 时路由器给源主机发送报警包。Protocol 指出使用何种传输协议对内容进行处理。因为头中含有目的地址这样的关键信息，头校验和是必要的。</p>
<h3 id="ipv6-rfc-2460">IPv6 [<a href="https://datatracker.ietf.org/doc/rfc2460/?include_text=1" target="_blank" rel="noopener">RFC 2460</a>]</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|Version| Diff Services |           Flow Label                  |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|         Payload Length        |  Next Header  |   Hop Limit   |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|                                                               |</span><br><span class="line">+                                                               +</span><br><span class="line">|                                                               |</span><br><span class="line">+                         Source Address                        +</span><br><span class="line">|                                                               |</span><br><span class="line">+                                                               +</span><br><span class="line">|                                                               |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|                                                               |</span><br><span class="line">+                                                               +</span><br><span class="line">|                                                               |</span><br><span class="line">+                      Destination Address                      +</span><br><span class="line">|                                                               |</span><br><span class="line">+                                                               +</span><br><span class="line">|                                                               |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br></pre></td></tr></table></figure>
<p> 流标签 (Flow Label) 字段提供一种建立伪连接的方式，源端和接收方把一组具有相同需求并希望得到网络同等对待的数据包打上标记。当一个流标签字段非 0 的包出现时，路由器在内部表中查找该值，提供相应服务。一对 IP 地址之间可以同时存在 220 个活跃的流。下一个头 (Next Header) 指出当前头部之后还有哪种扩展头，若没有，则指定上层的传输协议。去掉校验和 (Checksum) 是因为目前大多使用可靠网络，而计算校验和会极大降低性能，不值得。</p>
<p> 扩展头编码成 TLV 三元组，目前定义了如下 6 种：</p>
<table>
<thead>
<tr class="header">
<th> 扩展头 </th>
<th> 描述 </th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td> 逐跳选项 </td>
<td> 存放沿途所有路由器必须要检查的信息 </td>
</tr>
<tr class="even">
<td> 目标选项 </td>
<td> 用于只需被目标主机翻译的字段 (不懂.jpg)</td>
</tr>
<tr class="odd">
<td> 路由 </td>
<td> 列出在通向目标的途中必须经过的路由器 </td>
</tr>
<tr class="even">
<td> 分段 </td>
<td> 与 IPv4 类似，但只有源主机可以将数据包进行分段 </td>
</tr>
<tr class="odd">
<td> 认证 </td>
<td> 让接收方确定发送方身份，使用密码学技术 </td>
</tr>
<tr class="even">
<td> 加密安全有效载荷 </td>
<td> 对数据包内容进行加密，使用密码学技术 </td>
</tr>
</tbody>
</table>
<h3 id="internet- 控制协议">Internet 控制协议 </h3>
<ul>
<li><p>ICMP [<a href="https://datatracker.ietf.org/doc/rfc792/?include_text=1" target="_blank" rel="noopener">RFC 792</a>]</p></li>
<li><p>ARP [<a href="https://datatracker.ietf.org/doc/rfc826/?include_text=1" target="_blank" rel="noopener">RFC 826</a>]</p></li>
<li><p>DHCP [<a href="https://datatracker.ietf.org/doc/rfc2131/?include_text=1" target="_blank" rel="noopener">RFC 2131</a>] [<a href="https://datatracker.ietf.org/doc/rfc2132/?include_text=1" target="_blank" rel="noopener">RFC 2132</a>]</p></li>
</ul>
<h3 id="标签交换和 -mpls"> 标签交换和 MPLS</h3>
<p>MPLS 在每个数据包前面增加一个标签，路由器根据数据包标签而非数据包目标地址实施转发。因为 IP 并非针对虚电路设计，IP 头部没有空间存放标签，因此要在 IP 数据包头前面加上一个新的 MPLS 头。多协议 (MP) 的由来：可以制造同时转发 IP 和非 IP 数据包的 MPLS 交换机，或者通过非 IP 网络来运载 IP 数据包。</p>
<p> 当一个 IP 数据包到达 MPLS 网络边缘，标签边缘路由器 (LER) 检查其目标 IP 地址，并贴标签；到达 MPLS 网络的另一端时，删除标签。常常把终止在某个特定路由器或 LAN 的流合并，为这些流 (称作转发等价类) 使用同一个标签。</p>
<p> 还可以使用标签栈 (stack of label) ，引导不同标签的数据包沿共同的路径前进 (妙啊) 。</p>
<h3 id="ospf">OSPF</h3>
<p> 借鉴了 IS-IS，于 1990 年成为标准。OSPF 的设计目标：</p>
<ol type="1">
<li> 算法必须公开，不能由某公司私有 </li>
<li> 支持多种距离度量 </li>
<li> 动态算法，能自动且快速地适应网络拓扑变化 </li>
<li> 支持基于服务类型的路由 </li>
<li> 实现负载均衡 </li>
<li> 支持层次化系统 </li>
<li> 提供适度的安全性 </li>
<li> 能处理通过隧道连接到 Internet 的路由器 </li>
</ol>
<p>OSPF 把大的 AS 划分成编号的互不重叠的区域。每个 AS 有一个骨干区域 (backbone area) ，其中的所有路由器成为骨干路由器。所有区域都必须连接到骨干区域。对于同一区域内部的路由，采用普通的做法；对于跨区域的路由，必须先从源区域到骨干区域，再从骨干区域到目标区域 (相当于把 OSPF 配制成星型结构) 。</p>
<h3 id="bgp">BGP</h3>
<p> 在 AS 之间使用，与 AS 内部使用的域内协议目标不同，需要考虑到政治因素。是距离矢量协议的一种形式，然而使用政策而非最小距离进行路由选择。</p>
<h3 id="internet- 组播">Internet 组播 </h3>
<p>IP 使用 D 类 IP 地址来支持组播。当一个进程向 D 类地址发送数据包时，网络尽力而为地将其投递给组中的成员。224.0.0.0/24 范围内的地址被保留作为本地网络组播，不需要路由协议的支持。其他情况下，需要路由协议 (因为成员分布在不同的网络上) 。组播路由器每隔一段时间向它所在的 LAN 上的所有主机发送查询数据包，询问主机所属的组，主机给予应答 (IGMP) 。</p>
<h3 id="移动 -ip"> 移动 IP</h3>
<p> 当移动主机不在家乡网络时，家乡代理通过 ARP 代理来拦截发给移动主机的数据包。为了快速更新 ARP 映射，采用免费 ARP。细节问题：</p>
<ol type="1">
<li> 隧道移动 IP 的原始形式与 NAT (需要偷窥经过的 IP 包并查看其中的 TCP 头或 UDP 头) 不兼容。</li>
<li>ISP 通过入口过滤检查包的源 IP 地址 (SAVI？) ，使移动主机必须先将应答包发给家乡代理，再由家乡代理发送给另一端，造成迂回。</li>
</ol>
<h1 id="传输层"> 传输层 </h1>
<h2 id="概述"> 概述 </h2>
<p> 传输层为两台计算机的进程之间提供数据传递服务，为应用层使用网络提供抽象接口。利用网络层服务，完成传输工作的软硬件称为传输实体。因为用户无法掌控网络层 (路由器由运营商管理)，所以要在网络层上再加一层以提高服务质量。</p>
<p> 传输层的目标是在不可靠的网络上提供可靠的服务，但也可以提供不可靠服务。</p>
<p> 在建立连接时，应用进程把自己关联到一个本地 TSAP (在 Internet 中称为 port) 上，以便与远程的 TSAP 建立连接。建立连接后的管理中，关键问题是差错控制和流量控制。由于链路层的校验只能保护穿过单条链路的帧，无法发现在路由器内部产生的错误，因此传输层需要提供端到端的校验。对于链路层，链路带宽延迟乘积小，可以使用小窗口；TCP 则需要使用大的滑动窗口。</p>
<p> 网络层的拥塞终究是由于传输层发包太快引起的，因此控制拥塞的根本途径是传输层减慢发包速度。拥塞控制的目标是找到好的带宽分配方法，兼顾效率与公平 (最大 - 最小公平)。如何调整发送速率以便获得理想的带宽分配呢？要考虑流量控制 (接收方缓冲区小) 和拥塞控制 (带宽不够)。前者由可变大小窗口解决，解决后者的流行做法是把丢包作为拥塞信号 (在可靠的有线连接中)，在丢包率大的无线网络中，需要采用无线链路上的重传机制来掩盖传输错误引起的丢包 (屏蔽策略)。TCP 采取 AIMD 作为拥塞控制法则，因为该方案收敛到最优点且具有稳定性 (积极减小，缓慢增加)。</p>
<h2 id="udp-rfc-768">UDP [<a href="https://datatracker.ietf.org/doc/rfc768/?include_text=1" target="_blank" rel="noopener">RFC 768</a>]</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> 0      7 8     15 16    23 24    31  </span><br><span class="line">+--------+--------+--------+--------+ </span><br><span class="line">|     Source      |   Destination   | </span><br><span class="line">|      Port       |      Port       | </span><br><span class="line">+--------+--------+--------+--------+ </span><br><span class="line">|                 |                 | </span><br><span class="line">|     Length      |    Checksum     | </span><br><span class="line">+--------+--------+--------+--------+ </span><br><span class="line">|                                     </span><br><span class="line">|          data octets ...            </span><br><span class="line">+---------------- ...                 </span><br><span class="line"></span><br><span class="line">     User Datagram Header Format</span><br></pre></td></tr></table></figure>
<p>UDP 的最主要价值是增加了端口，使应用程序知道如何处理数据包。UDP 最大长度是 65515 字节 (由 IP 限制)；校验和校验以下内容：IP 伪头、UDP 头和数据，最后由 0 填充至整数个 16 位。IP 伪头如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> 0      7 8     15 16    23 24    31 </span><br><span class="line">+--------+--------+--------+--------+</span><br><span class="line">|          source address           |</span><br><span class="line">+--------+--------+--------+--------+</span><br><span class="line">|        destination address        |</span><br><span class="line">+--------+--------+--------+--------+</span><br><span class="line">|  zero  |protocol|   UDP length    |</span><br><span class="line">+--------+--------+--------+--------+</span><br></pre></td></tr></table></figure>
<p> 其中对应于 UDP 的 protocol 为 17，TCP 为 6。</p>
<p>UDP 协议广泛应用于以下情况 </p>
<h3 id="客户机 --- 服务器 -rpc"> 客户机 - 服务器 RPC</h3>
<p> 例如 DNS</p>
<h3 id="实时多媒体应用"> 实时多媒体应用 </h3>
<p><a href="https://datatracker.ietf.org/doc/rfc3550/?include_text=1" target="_blank" rel="noopener"> 实时传输协议 (RTP)</a> 运行于用户空间，位于 UDP 上。其基本功能为将几个实时数据流复用到一个 UDP 数据包流 (单播或组播) 中。RTP 没有确认或重传机制。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> 0                   1                   2                   3</span><br><span class="line"> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|V&#x3D;2|P|X|  CC   |M|     PT      |       sequence number         |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|                           timestamp                           |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|           synchronization source (SSRC) identifier            |</span><br><span class="line">+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+&#x3D;+</span><br><span class="line">|            contributing source (CSRC) identifiers             |</span><br><span class="line">|                             ....                              |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line"></span><br><span class="line">version (V): 2 bits</span><br><span class="line">padding (P): 1 bit</span><br><span class="line">extension (X): 1 bit</span><br><span class="line">CSRC count (CC): 4 bits</span><br><span class="line">marker (M): 1 bit</span><br><span class="line">payload type (PT): 7 bits</span><br></pre></td></tr></table></figure>
<p>PT 说明使用了何种编码；SN 对于每个包递增，可用来检查丢包；TS 注明第一个样本的产生时间，减小 jitter；SSRC 指明该数据包属于哪个流，实现复用。</p>
<p><a href="https://datatracker.ietf.org/doc/rfc3550/?include_text=1" target="_blank" rel="noopener"> 实时传输控制协议 (RTCP)</a> 处理反馈、同步和用户接口等信息，不传输媒体样值。</p>
<h2 id="tcp-rfc-793-rfc-4614">TCP [<a href="https://datatracker.ietf.org/doc/rfc793/?include_text=1" target="_blank" rel="noopener">RFC 793</a>] [<a href="https://datatracker.ietf.org/doc/rfc4614/?include_text=1" target="_blank" rel="noopener">RFC 4614</a>]</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"> 0                   1                   2                   3   </span><br><span class="line"> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 </span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|          Source Port          |       Destination Port        |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|                        Sequence Number                        |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|                    Acknowledgment Number                      |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|  Data |           |U|A|P|R|S|F|                               |</span><br><span class="line">| Offset| Reserved  |R|C|S|S|Y|I|            Window             |</span><br><span class="line">|       |           |G|K|H|T|N|N|                               |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|           Checksum            |         Urgent Pointer        |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|                    Options                    |    Padding    |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|                             data                              |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line"></span><br><span class="line">                         TCP Header Format</span><br></pre></td></tr></table></figure>
<ul>
<li>5 tuple: TCP + Src IP + Src Port + Dst IP + Dst Port</li>
<li>Acknowledgment Number: 累积确认，不超过丢失的数据 </li>
<li>Data Offset: The number of 32 bit words in the TCP Header.</li>
<li>URG: Urgent Pointer field significant 置 1 后 UP 指向从当前序号开始找到紧急数据的字节偏移量 </li>
<li>ACK: Acknowledgment field significant 说明 ACK 字段是有效的 </li>
<li>PSH: Push Function 接收端收到后不将它缓冲，直接递交应用程序 </li>
<li>RST: Reset the connection 重置连接，GWF 中使用 </li>
<li>SYN: Synchronize sequence numbers 用来建立连接 </li>
<li>FIN: No more data from sender 用来释放连接 </li>
<li>Options: 选项最多 40 字节，常用为：每台主机指定它愿意接收的最大段长 (大的段通常更有效率)、窗口尺度、时间戳 (防止序号回绕)</li>
</ul>
<h3 id="tcp- 连接的建立和释放">TCP 连接的建立和释放 </h3>
<figure>
<img src="/2020/04/24/Computer-Networks-Review/TCP%20handshakes.png" alt="TCP handshakes"><figcaption>TCP handshakes</figcaption>
</figure>
<h3 id="tcp- 滑动窗口">TCP 滑动窗口 </h3>
<p>Nagle 算法解决发送端应用每次向 TCP 传递一个字节引起的低效率问题 (发送端每次发送极少字节)，Clark 算法解决接收端应用每次从 TCP 读取一个字节引起的低效率问题 (接收端每次开放窗口极小)。</p>
<h3 id="tcp- 计时器管理">TCP 计时器管理 </h3>
<ol type="1">
<li> 重传计时器 (Retransmission Timeout)：最重要，超时后重传未被确认的数据包 </li>
<li> 持续计时器 (persistence timer)：防止接收端发送的窗口更新消息丢失，造成死锁 </li>
<li> 保活计时器 (keepalive timer)：当一个连接空闲较长时间后超时 </li>
<li> 终止连接阶段使用的计时器，超时值为两倍最大数据包生存期 </li>
</ol>
<h3 id="tcp- 拥塞控制">TCP 拥塞控制 </h3>
<p>TCP 同时维护一个拥塞窗口和流量控制窗口，真正发送的数据为较小者。</p>
<p>TCP 使用确认时钟 (ack clock) 输出流量，在刚建立连接时采取指数增长的慢速启动 (slow start)，当检测到丢包 (通过重复确认)，进行快速重传 (fast retransmission)，并进行快速恢复 (fast recovery), 将拥塞窗口设置为减半后的慢启动阈值 (slow start threshold)，并进行线性增长 (TCP Reno)。</p>
<p>TCP Reno 的机制经过数十年的历史，出现了两个较大的变化。</p>
<ol type="1">
<li> 使用选择确认 (SACK) 提供确切的丢包信息。</li>
<li> 除了使用丢包作为拥塞信号外，使用显式拥塞通知 (ECN)。</li>
</ol>
<h3 id="tcp- 的问题">TCP 的问题 </h3>
<ol type="1">
<li> 没有为所有应用程序提供所需的传输语意，例如保留其发送的消息、控制所使用的网络路径等，导致应用程序为 TCP 未解决的问题负责。所以出现了接口略微不同的新协议流控制传输协议 (SCTP [<a href="https://datatracker.ietf.org/doc/rfc4960/?include_text=1" target="_blank" rel="noopener">RFC 4960</a>])、结构化流传输 (SST [<a href="https://datatracker.ietf.org/doc/rfc4960/?include_text=1" target="_blank" rel="noopener">RFC 4960</a>])。</li>
<li> 基于把丢包作为信号的拥塞控制在网络速度快 (导致丢包率极低) 时，并不能体现吞吐量的限制，即使传输误码率也远大于丢包率。</li>
</ol>
<h2 id="性能问题"> 性能问题 </h2>
<p> 略. QWQ</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/22/%E6%95%B0%E5%AD%A6%E4%BD%9C%E4%B8%9A%E5%A6%82%E4%BD%95%E5%81%9A/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CLT">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CLT">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/22/%E6%95%B0%E5%AD%A6%E4%BD%9C%E4%B8%9A%E5%A6%82%E4%BD%95%E5%81%9A/" class="post-title-link" itemprop="url">数学作业如何做</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-04-22 20:10:52 / Modified: 20:29:39" itemprop="dateCreated datePublished" datetime="2020-04-22T20:10:52+08:00">2020-04-22</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ol type="1">
<li> 安装 Mathematica</li>
<li> 完成数学作业 </li>
</ol>
<h2 id="微积分篇"> 微积分篇 </h2>
<ol type="1">
<li> 求 <span class="math inline">\(z=x^y\)</span> 在 (1, 1) 处的三阶 Taylor 多项式 </li>
</ol>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Expand</span>[<span class="keyword">Normal</span>[<span class="keyword">Series</span>[x^y,&#123;x,<span class="number">1</span>,<span class="number">3</span>&#125;,&#123;y,<span class="number">1</span>,<span class="number">3</span>&#125;]]]</span><br></pre></td></tr></table></figure>
<ol start="2" type="1">
<li> 当 <span class="math inline">\(1\le x+y-z\le 2\)</span>, <span class="math inline">\(x+y+z=0\)</span> 时，求 <span class="math inline">\(u=x^2+y^2+z^2\)</span> 的最小值 </li>
</ol>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Minimize</span>[&#123;x^<span class="number">2</span>+y^<span class="number">2</span>+z^<span class="number">2</span>,<span class="number">1</span>&lt;=x+y-z&lt;=<span class="number">2</span>&amp;&amp;x+y+z==<span class="number">0</span>&#125;,&#123;x,y,z&#125;]</span><br></pre></td></tr></table></figure>
<ol start="3" type="1">
<li> 求积分 </li>
</ol>
<p><span class="math display">\[\int_0^\infty {\frac {\cos {x}}{y^2+x^2}}\mathrm {d} x
\]</span></p>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Integrate</span>[<span class="keyword">Cos</span>[x]/(y^<span class="number">2</span>+x^<span class="number">2</span>),&#123;x,<span class="number">0</span>,<span class="keyword">Infinity</span>&#125;]</span><br></pre></td></tr></table></figure>
<ol start="4" type="1">
<li> 求重积分 </li>
</ol>
<p><span class="math display">\[\iint_{D}{|\cos (x+y)|}\mathrm {d} x\mathrm {d} y, D=[0,\pi]^2
\]</span></p>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Integrate</span>[<span class="keyword">Abs</span>[<span class="keyword">Cos</span>[x+y]]*<span class="keyword">Boole</span>[<span class="number">0</span>&lt;=x&lt;=<span class="keyword">Pi</span>&amp;&amp;<span class="number">0</span>&lt;=y&lt;=<span class="keyword">Pi</span>],&#123;x,-<span class="keyword">Infinity</span>,<span class="keyword">Infinity</span>&#125;,&#123;y,-<span class="keyword">Infinity</span>,<span class="keyword">Infinity</span>&#125;]</span><br></pre></td></tr></table></figure>
<ol start="5" type="1">
<li> 求重积分 </li>
</ol>
<p><span class="math display">\[\iiint_{\Omega}{xyz}\mathrm {d} x\mathrm {d} yx\mathrm {d} z, \Omega=\{(x,y,z)|x^2+y^2+z^2\le 4,x^2+y^2+(z-2)^2\le 4, x\ge 0, y\ge 0\}
\]</span></p>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Integrate</span>[<span class="keyword">Boole</span>[x^<span class="number">2</span>+y^<span class="number">2</span>+z^<span class="number">2</span>&lt;=<span class="number">4</span>&amp;&amp;x^<span class="number">2</span>+y^<span class="number">2</span>+(z<span class="number">-2</span>)^<span class="number">2</span>&lt;=<span class="number">4</span>&amp;&amp;x&gt;=<span class="number">0</span>&amp;&amp;y&gt;=<span class="number">0</span>],&#123;x,-<span class="keyword">Infinity</span>,<span class="keyword">Infinity</span>&#125;,&#123;y,-<span class="keyword">Infinity</span>,<span class="keyword">Infinity</span>&#125;,&#123;z,-<span class="keyword">Infinity</span>,<span class="keyword">Infinity</span>&#125;]</span><br></pre></td></tr></table></figure>
<ol start="6" type="1">
<li> 求累次积分 </li>
</ol>
<p><span class="math display">\[\int_0^1 {\mathrm {d} x}\int_0^x {\mathrm {d} y}\int_0^y {\frac {\cos {z}}{(1-z)^2}\mathrm {d} z}
\]</span></p>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Integrate</span>[<span class="keyword">Cos</span>[z]/(<span class="number">1</span>-z)^<span class="number">2</span>*<span class="keyword">Boole</span>[<span class="number">0</span>&lt;=z&lt;=y&amp;&amp;<span class="number">0</span>&lt;=y&lt;=x&amp;&amp;<span class="number">0</span>&lt;=x&lt;=<span class="number">1</span>],&#123;x,-<span class="keyword">Infinity</span>,<span class="keyword">Infinity</span>&#125;,&#123;y,-<span class="keyword">Infinity</span>,<span class="keyword">Infinity</span>&#125;,&#123;z,-<span class="keyword">Infinity</span>,<span class="keyword">Infinity</span>&#125;]</span><br></pre></td></tr></table></figure>
<h2 id="线性代数篇"> 线性代数篇 </h2>
<p><span class="math display">\[\mathbf {A}=
\begin {bmatrix}
13 &amp; 16 &amp; 16\\
-5 &amp; -7 &amp; -6\\
-6 &amp; -8 &amp; -7
\end {bmatrix}
\]</span></p>
<ol type="1">
<li>A 的特征多项式 </li>
</ol>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A=&#123;&#123;<span class="number">13</span>,<span class="number">16</span>,<span class="number">16</span>&#125;,&#123;<span class="number">-5</span>,<span class="number">-7</span>,<span class="number">-6</span>&#125;,&#123;<span class="number">-6</span>,<span class="number">-8</span>,<span class="number">-7</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">CharacteristicPolynomial</span>[A,x]</span><br></pre></td></tr></table></figure>
<ol start="2" type="1">
<li>A 的特征值 </li>
</ol>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Eigenvalues</span>[A]</span><br></pre></td></tr></table></figure>
<ol start="3" type="1">
<li>A 的特征向量 </li>
</ol>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Eigenvectors</span>[A]</span><br></pre></td></tr></table></figure>
<ol start="4" type="1">
<li>A 的行列式 </li>
</ol>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Det</span>[A]</span><br></pre></td></tr></table></figure>
<ol start="5" type="1">
<li>A 的 Jordan 标准型 </li>
</ol>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">MatrixForm</span>/@<span class="keyword">JordanDecomposition</span>[A]</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/21/Learn-SAVI-Framework-RFC-7039/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CLT">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CLT">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/21/Learn-SAVI-Framework-RFC-7039/" class="post-title-link" itemprop="url">Learn SAVI Framework[RFC 7039]</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-21 17:07:13" itemprop="dateCreated datePublished" datetime="2020-04-21T17:07:13+08:00">2020-04-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-04-24 22:37:36" itemprop="dateModified" datetime="2020-04-24T22:37:36+08:00">2020-04-24</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="introduction">Introduction</h2>
<p> 因为路由器在转发 IP 数据包时，并没有用到 IP 源地址，所以源地址可以由发送主机任意选择，造成欺骗。</p>
<p>SAVI 的目标是在小的粒度 (fine granularity) 下，对个人 IP 地址进行过滤。</p>
<p> 为了适应各种网络的需求，SAVI 采取了可扩展的设计。</p>
<h2 id="model">Model</h2>
<p>SAVI 不应当依赖主机的功能，所以是 purely network based。为了强制主机使用合法 IP 地址，SAVI 使用以下三步骤模型：</p>
<ol type="1">
<li>Identify which IP source addresses are legitimate for a host, based on monitoring packets exchanged by the host.</li>
<li>Bind a legitimate IP address to a link-layer property of the host's network attachment. This property, called a"binding anchor", must be verifiable in every packet that the host sends and harder to spoof than the host's IP source address itself.</li>
<li>Enforce that the IP source addresses in packets match the binding anchors to which they were bound.</li>
</ol>
<p> 关于 SAVI 的安置地点：在主机的默认路由器处（无法监控网络内部的数据包）或在主机与默认路由器之间的交换机处。很显然，SAVI 设置得离主机越近，效果越好。</p>
<p>SAVI 需要考虑以下各种情况：当网络中存在传统（不支持 SAVI）的设备、主机在不同接入点之间切换、网络分裂（Network Partition）等。</p>
<h2 id="deployment-options">Deployment Options</h2>
<p>SAVI 模型的部署需要考虑以下两个方面：</p>
<ul>
<li><p> 对合法 IP 的识别依赖于 IP 地址的分配方法 </p>
<ul>
<li>The SAVI method hence comes in multiple variants, e.g., for links with DHCP [RFC2131] [RFC3315], Stateless Address Autoconfiguration (SLAAC) [RFC4862] with or without Secure Neighbor Discovery (SEND) [RFC3971], Internet Key Exchange Protocol Version 2 (IKEv2) [RFC5996] [RFC5739] [RFC5026], and combinations thereof.</li>
</ul></li>
<li><p>Binding anchors 依赖于链路层技术 </p>
<ul>
<li><p>The IEEE extended unique identifier, EUI-48 or EUI-64, of a host's interface.</p></li>
<li><p>The port on an Ethernet switch to which a host attaches.</p></li>
<li><p>The security association between a host and the base station on wireless links.</p></li>
<li><p>The combination of a host interface's link-layer address and a customer relationship in cable modem networks.</p></li>
<li><p>An ATM virtual channel, a PPP session identifier, or a Layer 2 Tunneling Protocol (L2TP) session identifier in a DSL network.</p></li>
<li><p>A tunnel that connects to a single host, such as an IP-in-IP tunnel, a Generic Routing Encapsulation (GRE) tunnel, or an MPLS label-switched path.</p></li>
</ul></li>
</ul>
<h2 id="scalability-optimizations">Scalability Optimizations</h2>
<p> 因为倾向于将 SAVI 配置在距离主机较近的位置，对于大型的网络，必然会出现许多 SAVI 同时存在的情况。如果一个 SAVI 为连接上的所有 IP 地址创建 binding，就会引起冗余，消耗内存，增加成本。因此每个 SAVI 只对直接连接它，或者通过未部署 SAVI 的交换机连接它的主机负责。所有部署 SAVI 的交换机形成一个 "protection perimeter"。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">                                        ..............</span><br><span class="line">              protection perimeter --&gt;  : +--------+ :</span><br><span class="line"> +---+  +---+                           : |  SAVI  | :</span><br><span class="line"> | A |  | B |  &lt;-- hosts                : | switch | :</span><br><span class="line"> +---+  +---+                           : +--------+ :</span><br><span class="line">...|......|.............................:        |   :</span><br><span class="line">: +--------+          +--------+          +--------+ :</span><br><span class="line">: |  SAVI  |----------| legacy |          |  SAVI  | :</span><br><span class="line">: | switch |          | switch |----------| switch | :</span><br><span class="line">: +--------+          +--------+          +--------+ :</span><br><span class="line">:   |        ...............................|........:</span><br><span class="line">: +--------+ :                            +--------+</span><br><span class="line">: |  SAVI  | :                            | legacy |</span><br><span class="line">: | switch | :                            | switch |</span><br><span class="line">: +--------+ :                            +--------+</span><br><span class="line">:............:                             |      |</span><br><span class="line">                                         +---+  +---+</span><br><span class="line">                              hosts --&gt;  | C |  | D |</span><br><span class="line">                                         +---+  +---+</span><br></pre></td></tr></table></figure>
<p> 所有经过 protection perimeter 的边界的数据包都会被 SAVI 检查源地址，仅当数据包始终处于内部或外部时不执行检查。</p>
<h2 id="reliability-optimizations">Reliability Optimizations</h2>
<p> 因为合法 IP 通过 binding 的形式储存在 SAVI 设备中，那么以下情况会导致假阳性：</p>
<ul>
<li> 合法 IP 配置包（本应当触发 SAVI 形成一个 binding）在到达 SAVI 设备之前丢失 </li>
<li> 由于重启等原因，一个 SAVI 设备丢失了一个 binding</li>
<li> 网络拓扑发生改变，主机连接到其他的 SAVI 上 </li>
</ul>
<p> 为了解决丢失 binding 造成的问题，SAVI 提供了相应的机制 (Reactive Binding Creation)：当一个 SAVI 设备发现很多来自同一个 IP 的数据包被丢弃，SAVI 检查该 IP 地址在该链路上是否唯一，若唯一，则 SAVI 为该 IP 地址创建一个 binding；否则继续丢弃来自该 IP 地址的数据包。</p>
<h2 id="scenario-with-multiple-assignment-methods">Scenario with Multiple Assignment Methods</h2>
<p> 由于多种 IP 分配方法可能被用于同一个网络，SAVI 设备需要同时采用多种 binding 的发现方法。如果不同的 IP 分配方法分配的是不同的地址前缀，那么这个问题不存在；复杂的情况在于同一个地址前缀存在不同的 IP 分配方案 (mix scenario) 。</p>
<p> 不同地址分配方案 (DHCP [RFC 2131], DHCPv6 [RFC 3315], SLAAC [RFC 4862], and SEND [RFC 3971]) 的优先级是解决此问题的基础。然而，在一些情况下，默认的优先级顺序并不合适。所以对于 mix scenario ，SAVI 应当支持可配置的优先级。</p>
<h2 id="prefix-configuration">Prefix Configuration</h2>
<p> 在建立 host-level binding 之前，需要在 SAVI 设备上设置正确的前缀，利用这些前缀作为白名单来过滤违规源地址。有以下几种机制：</p>
<ul>
<li><p>Manual Prefix Configuration: The allowed prefix scope of IPv4 addresses, IPv6 static addresses, IPv6 addresses assigned by Stateless Address Autoconfiguration (SLAAC), and IPv6 addresses assigned by DHCPv6 can be set manually at the SAVI device. FE80::/64 is always a feasible prefix in IPv6.</p></li>
<li><p>Prefix Configuration by Router Advertisement (RA) Snooping: The allowed prefix scope of IPv6 static addresses and IPv6 addresses assigned by SLAAC can be set at the SAVI device through snooping an RA message at the SAVI device.</p></li>
<li><p>Prefix Configuration by DHCP Prefix Delegation (DHCP-PD) Snooping: The allowed prefix scope of IPv6 static addresses, IPv6 addresses assigned by SLAAC, and IPv6 addresses assigned by DHCPv6 can be set through snooping a DHCP-PD message at the SAVI device.</p></li>
</ul>
<p> 建议：</p>
<ul>
<li><p> 如果在某方案中，前缀被设置为空，则该地址分配方案不被允许在当前网络上使用。</p></li>
<li><p> 不需要将这些前缀范围展示出来，但是这些限制应当在 binding 建立之初被用作检查。</p></li>
<li><p> 当 SAVI 未被完全部署时，建议使用手动设置。</p></li>
</ul>
<h2 id="security-considerations">Security Considerations</h2>
<ul>
<li><p> 因为并不是所有情况下都会使用密码学技术，安全性不能得到完全的保证。所以如果有很强的安全需求，应当使用基于密码学认证的技术。</p></li>
<li>SAVI 通常部署得距离主机较近，这使得 SAVI 设备本身容易受到攻击。因此载有 SAVI 功能的设备不应被物理暴露 </li>
<li><p> 不要将 SAVI 分布式地部署在行政边界两侧（因为另一侧的 SAVI 并不能得到信任）</p></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/20/Extensible-NGI/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CLT">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CLT">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/20/Extensible-NGI/" class="post-title-link" itemprop="url">讲座：可扩展的下一代互联网（李丹）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-04-20 21:13:55 / Modified: 21:33:15" itemprop="dateCreated datePublished" datetime="2020-04-20T21:13:55+08:00">2020-04-20</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p><a href="https://baike.baidu.com/item/%%20E6%%20A2%85%%20E7%89%%20B9%%20E5%8D%%20A1%%20E5%%20A4%%20AB%%20E5%%20AE%9A%%20E5%%20BE%8B/559840?fr=aladdin" target="_blank" rel="noopener"> 梅特 * 卡夫 * 定律 </a></p>
</blockquote>
<h2 id="一可扩展是互联网的使命"> 一、可扩展是互联网的使命 </h2>
<ul>
<li><p> 国际互联网协会 (Internet Society, ISOC)</p>
<blockquote>
<p>Unlike the telephone network, which for years in most countries was run by a single company, the global Internet consists of tens of thousands of interconnected networks run by service providers, individual companies, universities, governments, and others.</p>
</blockquote>
<blockquote>
<p>The Internet is for everyone.</p>
</blockquote>
<blockquote>
<p>open, globally-connected, secure, and trustworthy.</p>
</blockquote></li>
<li><p>“可扩展互联网” 的实现手段： “开放” + “互联”</p></li>
<li><p> 下一代互联网建立在 IPv6 的极大地址空间上 </p></li>
<li><p>“国际互联” 的基本设计原则（可扩展性）</p>
<ul>
<li><p> 分布式运行：互联网不统一管理 </p></li>
<li> 不改变网络的内部通信机制 </li>
<li><p> 网络之间的互联互通服务尽量简单：无连接分组交换、尽力而为 </p></li>
</ul></li>
<li><p>IP 协议：** 用于 “国际互联” 的协议 **（无连接 + 分组交换 + “尽力而为” 的转发 + 基于 IP 地址的寻址），充分” 放权”</p>
<ul>
<li> 互联网对内容提供者不做任何限制 </li>
<li> 互联网的开放模式冲击电信网运营商 </li>
<li> 互联网不为任何特殊应用服务 </li>
<li> 互联网并非对应用的需求 “视而不见”</li>
<li> 互联网对每个网络的底层通信介质不作限制 </li>
<li> 互联网对每个网络地层通信的 “实际 “转发协议不限制 </li>
<li> 互联网对用户开放，“尽力而为” 是在有限资源的情况下的社会主义 </li>
<li> 互联网对流量开放，流量由发动者驱动：开放 vs DoS</li>
<li> 互联网对标准和标准的制定者开放，IETF 是国际民间组织
<ul>
<li> 芯片设计领域：指令集标准是要付费使用的 </li>
<li> 电信网：给持有专利的公司付费 </li>
</ul></li>
</ul></li>
<li><p> 针对 IP 的非议：</p>
<ul>
<li>IP 协议没有服务质量保障 </li>
<li>IP 协议没有移动性支持 </li>
<li>IP 协议缺乏安全性考虑，没有支持网络的 “内生安全”</li>
</ul></li>
<li> 有没有比 IP 协议更好的互联方案？—— 谁也不知道 </li>
<li><p> 互联网 ！= 计算机网络 —— 一系列误导性名词：工业互联网、物联网……</p></li>
</ul>
<h2 id="二 ipv6- 协议增加了互联网的可扩展性"> 二、IPv6 协议增加了互联网的可扩展性 </h2>
<ul>
<li> 从根本上解决困扰互联网 “开放” 和 “互联” 的地址空间问题 </li>
<li><p> 当前许多行业网络发展的误区：</p>
<ul>
<li><p> 以业务需求为纲 </p></li>
<li> 只关心局部网络需求，没有全局视野，形成 “网络孤岛”</li>
</ul></li>
<li><p> 地址分配的可聚类性更强 </p></li>
</ul>
<h2 id="三其他互联网方案"> 三、其他互联网方案 </h2>
<ul>
<li>GENI 计划（美国）</li>
<li> 软件定义网络 SDN
<ul>
<li> 核心思想：路由器的控制平面与数据平面分离，把控制平面集中到一个中央控制器上 </li>
<li> 可扩展性差，因为互联网是分布式的 </li>
</ul></li>
<li> 内容中心网络 ICN / 命名数据网络 NDN
<ul>
<li> 技术思路：用 “内容名字” 取代 “IP 地址” 成为路由寻址的核心（Underlay 实现）</li>
<li> 本质上取代了 DNS 的功能，把内容寻址实现到路由器上 </li>
</ul></li>
<li> 服务质量驱动的未来互联网设计
<ul>
<li> 强调服务质量控制（与互联网的可扩展性本质相悖）</li>
<li> 对 new IP 的批判 </li>
</ul></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">CLT</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">4</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CLT</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
